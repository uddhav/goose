"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[5578],{96041:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>h,default:()=>x,frontMatter:()=>d,metadata:()=>t,toc:()=>m});const t=JSON.parse('{"id":"tutorials/mbot-mcp","title":"mbot MCP Extension","description":"Control a MakeBlock mbot2 rover through MQTT and MCP as a Goose Extension","source":"@site/docs/tutorials/mbot-mcp.md","sourceDirName":"tutorials","slug":"/tutorials/mbot-mcp","permalink":"/goose/docs/tutorials/mbot-mcp","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"mbot MCP Extension","description":"Control a MakeBlock mbot2 rover through MQTT and MCP as a Goose Extension"},"sidebar":"tutorialSidebar","previous":{"title":"Observability with Langfuse","permalink":"/goose/docs/tutorials/langfuse"},"next":{"title":"Memory Extension","permalink":"/goose/docs/tutorials/memory-mcp"}}');var i=o(74848),s=o(28453),a=o(65537),r=o(79329),l=o(25887);const d={title:"mbot MCP Extension",description:"Control a MakeBlock mbot2 rover through MQTT and MCP as a Goose Extension"},h=void 0,c={},m=[{value:"Configuration",id:"configuration",level:2},{value:"Example Usage",id:"example-usage",level:2},{value:"Goose Interaction",id:"goose-interaction",level:4}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h4:"h4",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{videoUrl:"https://www.youtube.com/embed/QKg2Q6YCzdw"}),"\n",(0,i.jsxs)(n.p,{children:["This tutorial will get you started with ",(0,i.jsx)(n.a,{href:"https://github.com/deemkeen/mbotmcp",children:"deemkeen's MQTT MCP server"})," for the ",(0,i.jsx)(n.a,{href:"https://www.makeblock.com/products/buy-mbot2",children:"MakeBlock mbot2 rover"}),", and outline some code changes we made along the way."]}),"\n",(0,i.jsxs)(n.admonition,{title:"TLDR",type:"tip",children:[(0,i.jsxs)(a.A,{groupId:"interface",children:[(0,i.jsx)(r.A,{value:"ui",label:"Goose Desktop",default:!0,children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"goose://extension?cmd=/path/to/java&arg=-jar&arg=/path/to/mbotmcp-0.0.1-SNAPSHOT.jar&name=mbot2&description=mbot2&env=MQTT_SERVER_URI%3Dtcp://1.2.3.4:1883&env=MQTT_USERNAME%3Dyour_username&env=MQTT_PASSWORD%3Dyour_password",children:"Launch the installer"})})}),(0,i.jsxs)(r.A,{value:"cli",label:"Goose CLI",children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Command"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"/path/to/java -jar /path/to/mbotmcp-0.0.1-SNAPSHOT.jar\n"})})]})]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Environment Variable"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"MQTT_SERVER_URI: tcp://1.2.3.4:1883\nMQTT_PASSWORD: <string or blank>\nMQTT_USERNAME: <string or blank>\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(a.A,{groupId:"interface",children:[(0,i.jsx)(r.A,{value:"ui",label:"Goose Desktop",default:!0,children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"goose://extension?cmd=/path/to/java&arg=-jar&arg=/path/to/mbotmcp-0.0.1-SNAPSHOT.jar&name=mbot2&description=mbot2&env=MQTT_SERVER_URI%3Dtcp://1.2.3.4:1883&env=MQTT_USERNAME%3Dyour_username&env=MQTT_PASSWORD%3Dyour_password",children:"Launch the installer"})}),"\n",(0,i.jsxs)(n.li,{children:["Press ",(0,i.jsx)(n.code,{children:"Yes"})," to confirm the installation"]}),"\n",(0,i.jsx)(n.li,{children:"Get your MQTT server URI, and your username/password if your MQTT uses authentication"}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.code,{children:"Save Configuration"})]}),"\n",(0,i.jsxs)(n.li,{children:["Scroll to the top and click ",(0,i.jsx)(n.code,{children:"Exit"})," from the upper left corner"]}),"\n"]})}),(0,i.jsxs)(r.A,{value:"cli",label:"Goose CLI",children:[(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Run the ",(0,i.jsx)(n.code,{children:"configure"})," command:"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"goose configure\n"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Choose to add a ",(0,i.jsx)(n.code,{children:"Command-line Extension"})]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"  \u250c   goose-configure \n  \u2502\n  \u25c7  What would you like to configure?\n  \u2502  Add Extension (Connect to a new extension) \n  \u2502\n  \u25c6  What type of extension would you like to add?\n  \u2502  \u25cb Built-in Extension \n  // highlight-start    \n  \u2502  \u25cf Command-line Extension (Run a local command or script)\n  // highlight-end    \n  \u2502  \u25cb Remote Extension \n  \u2514 \n"})}),(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Give your extension a name"}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"  \u250c   goose-configure \n  \u2502\n  \u25c7  What would you like to configure?\n  \u2502  Add Extension (Connect to a new extension) \n  \u2502\n  \u25c7  What type of extension would you like to add?\n  \u2502  Command-line Extension \n  \u2502\n  // highlight-start\n  \u25c6  What would you like to call this extension?\n  \u2502  mbot2\n  // highlight-end\n  \u2514 \n"})}),(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Enter the command"}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"  \u250c   goose-configure \n  \u2502\n  \u25c7  What would you like to configure?\n  \u2502  Add Extension (Connect to a new extension) \n  \u2502\n  \u25c7  What type of extension would you like to add?\n  \u2502  Command-line Extension \n  \u2502\n  \u25c7  What would you like to call this extension?\n  \u2502  mbot2\n  \u2502\n  // highlight-start\n  \u25c6  What command should be run?\n  \u2502  /path/to/java -jar /path/to/mbotmcp-0.0.1-SNAPSHOT.jar\n  // highlight-end\n  \u2514 \n"})}),(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Enter the number of seconds Goose should wait for actions to complete before timing out. Default is 300s"}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:" \u250c   goose-configure \n \u2502\n \u25c7  What would you like to configure?\n \u2502  Add Extension (Connect to a new extension) \n \u2502\n \u25c7  What type of extension would you like to add?\n \u2502  Command-line Extension \n \u2502\n \u25c7  What would you like to call this extension?\n \u2502  mbot2\n \u2502\n \u25c7  What command should be run?\n \u2502  /path/to/java -jar /path/to/mbotmcp-0.0.1-SNAPSHOT.jar\n \u2502\n // highlight-start\n \u25c6  Please set the timeout for this tool (in secs):\n \u2502  300\n // highlight-end\n \u2502\n \u2514 \n"})}),(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:'Choose to add a description. If you select "Yes" here, you will be prompted to enter a description for the extension.'}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:" \u250c   goose-configure \n \u2502\n \u25c7  What would you like to configure?\n \u2502  Add Extension (Connect to a new extension) \n \u2502\n \u25c7  What type of extension would you like to add?\n \u2502  Command-line Extension \n \u2502\n \u25c7  What would you like to call this extension?\n \u2502  mbot2\n \u2502\n \u25c7  What command should be run?\n \u2502  /path/to/java -jar /path/to/mbotmcp-0.0.1-SNAPSHOT.jar\n \u2502\n \u25c6  Please set the timeout for this tool (in secs):\n \u2502  300\n \u2502\n // highlight-start\n \u25c7  Would you like to add a description?\n \u2502  No\n // highlight-end\n \u2502\n \u2514 \n"})}),(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsx)(n.li,{children:"Add environment variables for MQTT"}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:" \u250c   goose-configure \n \u2502\n \u25c7  What would you like to configure?\n \u2502  Add Extension (Connect to a new extension) \n \u2502\n \u25c7  What type of extension would you like to add?\n \u2502  Command-line Extension \n \u2502\n \u25c7  What would you like to call this extension?\n \u2502  mbot2\n \u2502\n \u25c7  What command should be run?\n \u2502  /path/to/java -jar /path/to/mbotmcp-0.0.1-SNAPSHOT.jar\n \u2502\n \u25c7  Please set the timeout for this tool (in secs):\n \u2502  300\n \u2502\n \u25c7  Would you like to add a description?\n \u2502  No\n \u2502\n // highlight-start\n \u25c6  Would you like to add environment variables?\n \u2502  Yes \n \u2502\n \u25c7  Environment variable name:\n \u2502  MQTT_SERVER_URI\n \u2502\n \u25c7  Environment variable value:\n \u2502  tcp://1.2.3.4:1883\n \u2502\n \u25c7  Add another environment variable?\n \u2502  Yes\n \u2502\n \u25c7  Environment variable name:\n \u2502  MQTT_USERNAME\n \u2502\n \u25c7  Environment variable value:\n \u2502  username\n \u2502\n \u25c7  Add another environment variable?\n \u2502  Yes\n \u2502\n \u25c7  Environment variable name:\n \u2502  MQTT_PASSWORD\n \u2502\n \u25c7  Environment variable value:\n \u2502  password\n // highlight-end\n \u2502\n \u2514  Added mbot2 extension\n"})}),(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsx)(n.p,{children:"MQTT_USERNAME and MQTT_PASSWORD are required to exist, but can be empty strings if your MQTT server does not require authentication."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(n.p,{children:"The available commands allow you to drive the mbot2 rover around, including:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'"turn left" or "turn right""'}),"\n",(0,i.jsx)(n.li,{children:'drive "forward" or "backward"'}),"\n",(0,i.jsx)(n.li,{children:'"explore" randomly'}),"\n",(0,i.jsx)(n.li,{children:'"stop" exploring'}),"\n",(0,i.jsx)(n.li,{children:'"beep"'}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The default distance to travel is 70cm (about 27 inches), and the turn angles are set to 90 degrees. You can change these values in the ",(0,i.jsx)(n.a,{href:"https://github.com/deemkeen/mbotmcp/blob/main/assets/mbot-mqtt.py",children:"Python code on the mbot2"}),". The mbot2 has a lot of other capabilities with the proximity sensors, lights, and color detection sensor on the bottom of the unit that you can add to the Python code, and will need to update ",(0,i.jsx)(n.a,{href:"https://github.com/deemkeen/mbotmcp/blob/main/src/main/java/de/emkeen/mbotmcp/service/BotService.java",children:"the Java code"})," to include those commands via MCP."]}),"\n",(0,i.jsx)(n.h4,{id:"goose-interaction",children:"Goose Interaction"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"( O)> Let my mbot2 explore the area\n\n    Okay, let's get the mbot2 rover moving. I will send it on a mission to explore the area.\n\n    > Mbotexplore\n\n( O)> stop the rover, turn left and move forward\n\n    Alright, I will stop the rover, turn to the left, and then move it forward.\n\n    > Mbotstop\n\n    > Mbotleft\n\n    > Mbotforward\n\n( O)> let's move backward and beep so I know when it's finished\n\n    Sure, I will move the rover backward and beep when it's done.\n\n    > Mbotbackward\n\n    > Mbotbeep\n\n    Okay, the mbot2 has moved and beeped. What else would you like to do with the rover?\n\n"})})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},25887:(e,n,o)=>{o.d(n,{A:()=>s});o(96540);var t=o(52362),i=o(74848);const s=e=>{let{videoUrl:n}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(t.A,{type:"info",icon:"\ud83c\udfa5",title:"Plug & Play",className:"alert--video",children:(0,i.jsxs)("details",{children:[(0,i.jsx)("summary",{children:"Watch the demo"}),(0,i.jsx)("div",{style:{textAlign:"center",margin:"20px 0"},children:(0,i.jsx)("iframe",{width:"100%",height:"540",src:n,title:"YouTube Short",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}),(0,i.jsx)("hr",{})]})}}}]);